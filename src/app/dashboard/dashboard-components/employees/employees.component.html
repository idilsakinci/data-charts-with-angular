<mat-card>
  <mat-card-content>
    <div class="d-flex flex-wrap">
      <div>
        <mat-card-title>Employees</mat-card-title>
      </div>
    </div>

    <div class="d-flex flex-column">
      <div class="d-flex justify-content-start align-items-center">
        <mat-form-field appearance="fill" class="team-select">
          <mat-label>Select Team</mat-label>
          <mat-select [(value)]="selectedTeam" (selectionChange)="onTeamSelect($event.value)">
            <mat-option *ngFor="let team of teamsDetail" [value]="team">
              {{ team.title }}
            </mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="employee-list">
        <mat-table [dataSource]="selectedTeam?.employees" class="full-width">

          <ng-container matColumnDef="name">
            <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
            <mat-cell *matCellDef="let employee"> {{employee.name}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="email">
            <mat-header-cell *matHeaderCellDef class="wide-column"> Email </mat-header-cell>
            <mat-cell *matCellDef="let employee" class="wide-column"> {{employee.email}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="title">
            <mat-header-cell *matHeaderCellDef class="wide-column"> Title </mat-header-cell>
            <mat-cell *matCellDef="let employee" class="wide-column"> {{employee.title}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="currentScore">
            <mat-header-cell *matHeaderCellDef class="narrow-column"> Current Score </mat-header-cell>
            <mat-cell *matCellDef="let employee" class="narrow-column"> {{employee.current_score}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="lessonsTaken">
            <mat-header-cell *matHeaderCellDef class="narrow-column"> Lessons Taken </mat-header-cell>
            <mat-cell *matCellDef="let employee" class="narrow-column"> {{employee.lessons_taken}} </mat-cell>
          </ng-container>

          <ng-container matColumnDef="skillsBeingDeveloped">
            <mat-header-cell *matHeaderCellDef class="wide-column"> Skills Being Developed </mat-header-cell>
            <mat-cell *matCellDef="let employee" class="wide-column">
              <ul class="skills-list">
                <li *ngFor="let skill of employee.skills_being_developed">
                  {{ skill }}
                </li>
              </ul>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="displayedEmployeeColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: displayedEmployeeColumns;"></mat-row>
        </mat-table>
      </div>
    </div>
  </mat-card-content>
</mat-card>
